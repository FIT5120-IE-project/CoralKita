# 珊瑚礁知识测验功能说明

## 功能概述

新增的珊瑚礁知识测验功能提供了一个独立的学习和测试界面，用户可以通过观看视频和答题来增长知识和获得奖励。

## 主要功能

### 1. 独立测验界面
- 从教育中心主页点击"开始测验"按钮跳转到独立的测验页面 (`/quiz`)
- 不再使用弹窗形式，而是完整的页面体验
- 提供返回按钮可以回到教育中心主页

### 2. 视频学习区域
- **视频展示**：一次显示4个视频缩略图
- **左右切换**：使用箭头按钮在视频间切换
- **视频播放**：点击视频缩略图在模态框中播放
- **观看奖励**：已登录用户观看视频可获得经验值奖励

### 3. 知识测验区域
- **题目加载**：从后端API随机获取5道测验题目
- **逐题显示**：一次只显示一个问题，增强专注度
- **答案反馈**：提交答案后显示正确/错误结果和解释
- **进度跟踪**：显示当前题目进度和完成百分比

### 4. 用户权限控制
- **已登录用户**：
  - 可以观看视频并获得经验值
  - 可以答题并获得积分和经验值奖励
  - 答题正确会增加得分和奖励
- **未登录用户**：
  - 只能观看视频，不能获得奖励
  - 尝试答题时会提示需要登录
  - 点击选项会显示注册提醒

### 5. 奖励系统
- **答题奖励**：
  - 基础奖励：每题正确答案 +2 经验值
  - 积分奖励：每题正确答案 +1 积分  
  - 满分奖励：全部答对额外 +10 经验值和 +5 积分
- **观看奖励**：
  - 每个视频观看完成 +2 经验值
  - 防重复：同一视频只能获得一次奖励
- **等级系统**：
  - 等级1: 0-99 经验值 (Novice)
  - 等级2: 100-299 经验值 (Beginner)
  - 等级3: 300-599 经验值 (Intermediate)
  - 等级4: 600-999 经验值 (Expert)
  - 等级5: 1000-1999 经验值 (Master)
  - 等级6: 2000+ 经验值 (Legend)

## 技术实现

### 前端组件
- `QuizPage.vue` - 主测验页面组件
- 路由配置：`/quiz` 路径
- Vuex状态管理：用户统计信息实时更新

### 后端API接口
- `GET /quiz/sources` - 获取所有可用的题目来源
- `GET /quiz/questions?sourceTitle=xxx` - 根据来源获取随机5道题目
- `POST /quiz/submit-score` - 提交测验得分和更新用户统计

### 数据流程
1. 页面加载时获取视频源和题目来源
2. 用户点击"开始随机测验"加载题目
3. 用户逐题答题，实时显示结果
4. 完成测验后提交得分到后端
5. 更新用户经验值、积分和等级
6. 本地状态同步更新

## 界面特色

### 视觉设计
- 渐变背景和毛玻璃效果
- 卡片式布局，现代化UI设计
- 响应式设计，支持移动端
- 平滑的转场动画和交互效果

### 用户体验
- 直观的进度指示器
- 清晰的答案反馈机制
- 友好的错误提示和引导
- 无缝的页面导航体验

## 使用方法

1. **进入测验**：在教育中心主页点击"开始测验"
2. **观看视频**：使用箭头切换视频，点击播放
3. **开始答题**：点击"开始随机测验"加载题目
4. **逐题作答**：选择答案后点击"提交答案"
5. **查看结果**：每题答案后显示正确性和解释
6. **完成测验**：所有题目完成后查看总得分和奖励
7. **返回主页**：点击返回按钮或"返回主页"

## 扩展功能

未来可以考虑添加：
- 题目分类选择
- 难度等级设置
- 成就徽章系统
- 排行榜功能
- 测验历史记录
- 社交分享功能
